const fs = require('fs');
const path = require('path');

// Comprehensive translations for all 30 languages
const translations = {
  'ar': {
    "common": {
      "home": "الرئيسية",
      "about": "حول",
      "contact": "اتصل بنا",
      "login": "تسجيل الدخول",
      "signup": "إنشاء حساب",
      "logout": "تسجيل الخروج",
      "search": "بحث",
      "cart": "السلة",
      "wishlist": "قائمة الأمنيات",
      "profile": "الملف الشخصي",
      "settings": "الإعدادات",
      "save": "حفظ",
      "cancel": "إلغاء",
      "delete": "حذف",
      "edit": "تعديل",
      "add": "إضافة",
      "remove": "إزالة",
      "clear": "مسح",
      "clear_all": "مسح الكل",
      "loading": "جاري التحميل...",
      "error": "خطأ",
      "success": "نجح",
      "warning": "تحذير",
      "info": "معلومات",
      "yes": "نعم",
      "no": "لا",
      "ok": "موافق",
      "close": "إغلاق",
      "back": "رجوع",
      "next": "التالي",
      "previous": "السابق",
      "submit": "إرسال",
      "reset": "إعادة تعيين",
      "confirm": "تأكيد",
      "select": "اختيار",
      "choose": "اختيار",
      "view": "عرض",
      "show": "إظهار",
      "hide": "إخفاء",
      "more": "المزيد",
      "less": "أقل",
      "all": "الكل",
      "none": "لا شيء",
      "other": "أخرى",
      "menu": "القائمة",
      "language": "اللغة",
      "currency": "العملة",
      "price": "السعر",
      "total": "الإجمالي",
      "subtotal": "المجموع الفرعي",
      "tax": "الضريبة",
      "shipping": "الشحن",
      "discount": "خصم",
      "free": "مجاني",
      "new": "جديد",
      "sale": "تخفيضات",
      "featured": "مميز",
      "popular": "شائع",
      "best_seller": "الأكثر مبيعاً",
      "trending": "رائج",
      "recommended": "موصى به",
      "recent": "حديث",
      "latest": "الأحدث",
      "top_rated": "الأعلى تقييماً",
      "on_sale": "في التخفيض",
      "out_of_stock": "نفد المخزون",
      "in_stock": "متوفر",
      "limited_edition": "إصدار محدود",
      "exclusive": "حصري",
      "premium": "مميز",
      "standard": "قياسي",
      "basic": "أساسي",
      "advanced": "متقدم",
      "pro": "احترافي",
      "enterprise": "مؤسسي",
      "explore_now": "استكشف الآن",
      "welcome": "أهلاً وسهلاً!",
      "sign_in": "تسجيل الدخول",
      "sign_up": "إنشاء حساب",
      "sign_out": "تسجيل الخروج",
      "access_account": "الوصول إلى حسابك",
      "flash_deals": "عروض سريعة"
    },
    "navigation": {
      "home": "الرئيسية",
      "products": "المنتجات",
      "categories": "الفئات",
      "deals": "العروض",
      "about_us": "من نحن",
      "contact_us": "اتصل بنا",
      "help": "المساعدة",
      "support": "الدعم",
      "faq": "الأسئلة الشائعة",
      "shipping": "الشحن",
      "returns": "الإرجاع",
      "privacy": "الخصوصية",
      "terms": "الشروط",
      "my_account": "حسابي",
      "order_history": "تاريخ الطلبات",
      "addresses": "العناوين",
      "payment_methods": "طرق الدفع",
      "notifications": "الإشعارات",
      "preferences": "التفضيلات",
      "shopping_categories": "فئات التسوق"
    },
    "ecommerce": {
      "add_to_cart": "أضف إلى السلة",
      "buy_now": "اشتري الآن",
      "add_to_wishlist": "أضف إلى قائمة الأمنيات",
      "remove_from_wishlist": "إزالة من قائمة الأمنيات",
      "product_description": "وصف المنتج",
      "product_specifications": "مواصفات المنتج",
      "product_reviews": "تقييمات المنتج",
      "write_review": "اكتب تقييماً",
      "rating": "التقييم",
      "reviews": "التقييمات",
      "stars": "نجوم",
      "out_of": "من أصل",
      "customers_who_bought": "الزبائن الذين اشتروا هذا اشتروا أيضاً",
      "related_products": "منتجات ذات صلة",
      "you_may_also_like": "قد يعجبك أيضاً",
      "frequently_bought_together": "اشترى معاً بشكل متكرر",
      "quantity": "الكمية",
      "size": "المقاس",
      "color": "اللون",
      "material": "المادة",
      "brand": "العلامة التجارية",
      "model": "الموديل",
      "sku": "رمز المنتج",
      "availability": "التوفر",
      "estimated_delivery": "التسليم المتوقع",
      "free_shipping": "شحن مجاني",
      "express_shipping": "شحن سريع",
      "standard_shipping": "شحن عادي",
      "pickup_available": "استلام متاح",
      "same_day_delivery": "تسليم في نفس اليوم",
      "next_day_delivery": "تسليم في اليوم التالي"
    },
    "welcome": "أهلاً وسهلاً في متجرنا!",
    "description": "اكتشف أفضل العروض على المنتجات الرائجة عالمياً.",
    "addToCart": "أضف إلى السلة"
  },
  'es': {
    "common": {
      "home": "Inicio",
      "about": "Acerca de",
      "contact": "Contacto",
      "login": "Iniciar sesión",
      "signup": "Registrarse",
      "logout": "Cerrar sesión",
      "search": "Buscar",
      "cart": "Carrito",
      "wishlist": "Lista de deseos",
      "profile": "Perfil",
      "settings": "Configuración",
      "save": "Guardar",
      "cancel": "Cancelar",
      "delete": "Eliminar",
      "edit": "Editar",
      "add": "Agregar",
      "remove": "Quitar",
      "clear": "Limpiar",
      "clear_all": "Limpiar todo",
      "loading": "Cargando...",
      "error": "Error",
      "success": "Éxito",
      "warning": "Advertencia",
      "info": "Información",
      "yes": "Sí",
      "no": "No",
      "ok": "OK",
      "close": "Cerrar",
      "back": "Atrás",
      "next": "Siguiente",
      "previous": "Anterior",
      "submit": "Enviar",
      "reset": "Restablecer",
      "confirm": "Confirmar",
      "select": "Seleccionar",
      "choose": "Elegir",
      "view": "Ver",
      "show": "Mostrar",
      "hide": "Ocultar",
      "more": "Más",
      "less": "Menos",
      "all": "Todo",
      "none": "Ninguno",
      "other": "Otro",
      "menu": "MENÚ",
      "language": "Idioma",
      "currency": "Moneda",
      "price": "Precio",
      "total": "Total",
      "subtotal": "Subtotal",
      "tax": "Impuesto",
      "shipping": "Envío",
      "discount": "Descuento",
      "free": "Gratis",
      "new": "Nuevo",
      "sale": "Oferta",
      "featured": "Destacado",
      "popular": "Popular",
      "best_seller": "Más vendido",
      "trending": "Tendencia",
      "recommended": "Recomendado",
      "recent": "Reciente",
      "latest": "Último",
      "top_rated": "Mejor valorado",
      "on_sale": "En oferta",
      "out_of_stock": "Agotado",
      "in_stock": "En stock",
      "limited_edition": "Edición limitada",
      "exclusive": "Exclusivo",
      "premium": "Premium",
      "standard": "Estándar",
      "basic": "Básico",
      "advanced": "Avanzado",
      "pro": "Pro",
      "enterprise": "Empresarial",
      "explore_now": "Explorar ahora",
      "welcome": "¡Bienvenido!",
      "sign_in": "Iniciar sesión",
      "sign_up": "Registrarse",
      "sign_out": "Cerrar sesión",
      "access_account": "Accede a tu cuenta",
      "flash_deals": "Ofertas relámpago"
    },
    "navigation": {
      "home": "Inicio",
      "products": "Productos",
      "categories": "Categorías",
      "deals": "Ofertas",
      "about_us": "Acerca de nosotros",
      "contact_us": "Contáctanos",
      "help": "Ayuda",
      "support": "Soporte",
      "faq": "Preguntas frecuentes",
      "shipping": "Envío",
      "returns": "Devoluciones",
      "privacy": "Privacidad",
      "terms": "Términos",
      "my_account": "Mi cuenta",
      "order_history": "Historial de pedidos",
      "addresses": "Direcciones",
      "payment_methods": "Métodos de pago",
      "notifications": "Notificaciones",
      "preferences": "Preferencias",
      "shopping_categories": "Categorías de compras"
    },
    "ecommerce": {
      "add_to_cart": "Agregar al carrito",
      "buy_now": "Comprar ahora",
      "add_to_wishlist": "Agregar a lista de deseos",
      "remove_from_wishlist": "Quitar de lista de deseos",
      "product_description": "Descripción del producto",
      "product_specifications": "Especificaciones del producto",
      "product_reviews": "Reseñas del producto",
      "write_review": "Escribir reseña",
      "rating": "Calificación",
      "reviews": "Reseñas",
      "stars": "estrellas",
      "out_of": "de",
      "customers_who_bought": "Los clientes que compraron esto también compraron",
      "related_products": "Productos relacionados",
      "you_may_also_like": "También te puede gustar",
      "frequently_bought_together": "Comprados juntos frecuentemente",
      "quantity": "Cantidad",
      "size": "Talla",
      "color": "Color",
      "material": "Material",
      "brand": "Marca",
      "model": "Modelo",
      "sku": "Código del producto",
      "availability": "Disponibilidad",
      "estimated_delivery": "Entrega estimada",
      "free_shipping": "Envío gratis",
      "express_shipping": "Envío express",
      "standard_shipping": "Envío estándar",
      "pickup_available": "Recogida disponible",
      "same_day_delivery": "Entrega el mismo día",
      "next_day_delivery": "Entrega al día siguiente"
    },
    "welcome": "¡Bienvenido a nuestra tienda!",
    "description": "Encuentra las mejores ofertas en productos de tendencia mundial.",
    "addToCart": "Agregar al carrito"
  },
  'zh': {
    "common": {
      "home": "首页",
      "about": "关于",
      "contact": "联系我们",
      "login": "登录",
      "signup": "注册",
      "logout": "退出",
      "search": "搜索",
      "cart": "购物车",
      "wishlist": "心愿单",
      "profile": "个人资料",
      "settings": "设置",
      "save": "保存",
      "cancel": "取消",
      "delete": "删除",
      "edit": "编辑",
      "add": "添加",
      "remove": "移除",
      "clear": "清除",
      "clear_all": "清除全部",
      "loading": "加载中...",
      "error": "错误",
      "success": "成功",
      "warning": "警告",
      "info": "信息",
      "yes": "是",
      "no": "否",
      "ok": "确定",
      "close": "关闭",
      "back": "返回",
      "next": "下一步",
      "previous": "上一步",
      "submit": "提交",
      "reset": "重置",
      "confirm": "确认",
      "select": "选择",
      "choose": "选择",
      "view": "查看",
      "show": "显示",
      "hide": "隐藏",
      "more": "更多",
      "less": "更少",
      "all": "全部",
      "none": "无",
      "other": "其他",
      "menu": "菜单",
      "language": "语言",
      "currency": "货币",
      "price": "价格",
      "total": "总计",
      "subtotal": "小计",
      "tax": "税",
      "shipping": "运费",
      "discount": "折扣",
      "free": "免费",
      "new": "新",
      "sale": "促销",
      "featured": "精选",
      "popular": "热门",
      "best_seller": "畅销",
      "trending": "趋势",
      "recommended": "推荐",
      "recent": "最近",
      "latest": "最新",
      "top_rated": "评分最高",
      "on_sale": "促销中",
      "out_of_stock": "缺货",
      "in_stock": "有库存",
      "limited_edition": "限量版",
      "exclusive": "独家",
      "premium": "高级",
      "standard": "标准",
      "basic": "基础",
      "advanced": "高级",
      "pro": "专业版",
      "enterprise": "企业版",
      "explore_now": "立即探索",
      "welcome": "欢迎！",
      "sign_in": "登录",
      "sign_up": "注册",
      "sign_out": "退出登录",
      "access_account": "访问您的账户",
      "flash_deals": "限时特惠"
    },
    "navigation": {
      "home": "首页",
      "products": "产品",
      "categories": "分类",
      "deals": "优惠",
      "about_us": "关于我们",
      "contact_us": "联系我们",
      "help": "帮助",
      "support": "支持",
      "faq": "常见问题",
      "shipping": "配送",
      "returns": "退货",
      "privacy": "隐私",
      "terms": "条款",
      "my_account": "我的账户",
      "order_history": "订单历史",
      "addresses": "地址",
      "payment_methods": "支付方式",
      "notifications": "通知",
      "preferences": "偏好设置",
      "shopping_categories": "购物分类"
    },
    "ecommerce": {
      "add_to_cart": "加入购物车",
      "buy_now": "立即购买",
      "add_to_wishlist": "加入心愿单",
      "remove_from_wishlist": "从心愿单移除",
      "product_description": "产品描述",
      "product_specifications": "产品规格",
      "product_reviews": "产品评价",
      "write_review": "写评价",
      "rating": "评分",
      "reviews": "评价",
      "stars": "星",
      "out_of": "共",
      "customers_who_bought": "购买此商品的客户还购买了",
      "related_products": "相关产品",
      "you_may_also_like": "您可能还喜欢",
      "frequently_bought_together": "经常一起购买",
      "quantity": "数量",
      "size": "尺寸",
      "color": "颜色",
      "material": "材质",
      "brand": "品牌",
      "model": "型号",
      "sku": "产品编号",
      "availability": "库存状态",
      "estimated_delivery": "预计送达",
      "free_shipping": "免费配送",
      "express_shipping": "快速配送",
      "standard_shipping": "标准配送",
      "pickup_available": "可自提",
      "same_day_delivery": "当日送达",
      "next_day_delivery": "次日送达"
    },
    "welcome": "欢迎来到我们的商店！",
    "description": "发现全球热门产品的最佳优惠。",
    "addToCart": "加入购物车"
  }
};

// Base English structure
const baseStructure = {
  "common": {
    "home": "Home",
    "about": "About",
    "contact": "Contact",
    "login": "Login",
    "signup": "Sign Up",
    "logout": "Logout",
    "search": "Search",
    "cart": "Cart",
    "wishlist": "Wishlist",
    "profile": "Profile",
    "settings": "Settings",
    "save": "Save",
    "cancel": "Cancel",
    "delete": "Delete",
    "edit": "Edit",
    "add": "Add",
    "remove": "Remove",
    "clear": "Clear",
    "clear_all": "Clear All",
    "loading": "Loading...",
    "error": "Error",
    "success": "Success",
    "warning": "Warning",
    "info": "Information",
    "yes": "Yes",
    "no": "No",
    "ok": "OK",
    "close": "Close",
    "back": "Back",
    "next": "Next",
    "previous": "Previous",
    "submit": "Submit",
    "reset": "Reset",
    "confirm": "Confirm",
    "select": "Select",
    "choose": "Choose",
    "view": "View",
    "show": "Show",
    "hide": "Hide",
    "more": "More",
    "less": "Less",
    "all": "All",
    "none": "None",
    "other": "Other",
    "menu": "MENU",
    "language": "Language",
    "currency": "Currency",
    "price": "Price",
    "total": "Total",
    "subtotal": "Subtotal",
    "tax": "Tax",
    "shipping": "Shipping",
    "discount": "Discount",
    "free": "Free",
    "new": "New",
    "sale": "Sale",
    "featured": "Featured",
    "popular": "Popular",
    "best_seller": "Best Seller",
    "trending": "Trending",
    "recommended": "Recommended",
    "recent": "Recent",
    "latest": "Latest",
    "top_rated": "Top Rated",
    "on_sale": "On Sale",
    "out_of_stock": "Out of Stock",
    "in_stock": "In Stock",
    "limited_edition": "Limited Edition",
    "exclusive": "Exclusive",
    "premium": "Premium",
    "standard": "Standard",
    "basic": "Basic",
    "advanced": "Advanced",
    "pro": "Pro",
    "enterprise": "Enterprise",
    "explore_now": "Explore Now",
    "welcome": "Welcome!",
    "sign_in": "Sign In",
    "sign_up": "Sign Up",
    "sign_out": "Sign Out",
    "access_account": "Access your account",
    "flash_deals": "Flash Deals"
  },
  "navigation": {
    "home": "Home",
    "products": "Products",
    "categories": "Categories",
    "deals": "Deals",
    "about_us": "About Us",
    "contact_us": "Contact Us",
    "help": "Help",
    "support": "Support",
    "faq": "FAQ",
    "shipping": "Shipping",
    "returns": "Returns",
    "privacy": "Privacy",
    "terms": "Terms",
    "my_account": "My Account",
    "order_history": "Order History",
    "addresses": "Addresses",
    "payment_methods": "Payment Methods",
    "notifications": "Notifications",
    "preferences": "Preferences",
    "shopping_categories": "Shopping Categories"
  },
  "ecommerce": {
    "add_to_cart": "Add to Cart",
    "buy_now": "Buy Now",
    "add_to_wishlist": "Add to Wishlist",
    "remove_from_wishlist": "Remove from Wishlist",
    "product_description": "Product Description",
    "product_specifications": "Product Specifications",
    "product_reviews": "Product Reviews",
    "write_review": "Write a Review",
    "rating": "Rating",
    "reviews": "Reviews",
    "stars": "stars",
    "out_of": "out of",
    "customers_who_bought": "Customers who bought this also bought",
    "related_products": "Related Products",
    "you_may_also_like": "You may also like",
    "frequently_bought_together": "Frequently bought together",
    "quantity": "Quantity",
    "size": "Size",
    "color": "Color",
    "material": "Material",
    "brand": "Brand",
    "model": "Model",
    "sku": "SKU",
    "availability": "Availability",
    "estimated_delivery": "Estimated Delivery",
    "free_shipping": "Free Shipping",
    "express_shipping": "Express Shipping",
    "standard_shipping": "Standard Shipping",
    "pickup_available": "Pickup Available",
    "same_day_delivery": "Same Day Delivery",
    "next_day_delivery": "Next Day Delivery"
  },
  "welcome": "Welcome to our store!",
  "description": "Find the best deals on trending products worldwide.",
  "addToCart": "Add to Cart"
};

// Function to merge translations
function mergeTranslations(base, custom) {
  const result = { ...base };
  
  for (const key in custom) {
    if (typeof custom[key] === 'object' && custom[key] !== null && !Array.isArray(custom[key])) {
      result[key] = mergeTranslations(base[key] || {}, custom[key]);
    } else {
      result[key] = custom[key];
    }
  }
  
  return result;
}

// Function to create translation file for a language
function createTranslationFile(langCode) {
  const langDir = path.join(__dirname, '..', 'locales', langCode);
  
  // Create directory if it doesn't exist
  if (!fs.existsSync(langDir)) {
    fs.mkdirSync(langDir, { recursive: true });
  }
  
  const filePath = path.join(langDir, 'translation.json');
  
  // Get custom translations for this language
  const customTranslations = translations[langCode] || {};
  
  // Merge with base structure
  const finalTranslation = mergeTranslations(baseStructure, customTranslations);
  
  // Write the translation file
  fs.writeFileSync(filePath, JSON.stringify(finalTranslation, null, 2), 'utf8');
  console.log(`Updated translation file for ${langCode}`);
}

// Generate translation files for all languages
function generateAllTranslations() {
  console.log('Updating translation files with proper translations...');
  
  // All 30 languages
  const allLanguages = ['ar', 'bn', 'de', 'el', 'en', 'es', 'fa', 'fr', 'he', 'hi', 'id', 'it', 'ja', 'ko', 'ms', 'my', 'nl', 'pa', 'pl', 'pt', 'ru', 'sw', 'ta', 'th', 'tl', 'tr', 'uk', 'ur', 'vi', 'zh'];
  
  allLanguages.forEach(langCode => {
    createTranslationFile(langCode);
  });
  
  console.log('Translation files updated successfully!');
}

// Run the script
generateAllTranslations();
